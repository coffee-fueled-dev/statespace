enum Codex {
  JSON
}

type State @node {
  id: ID! @id
  hash: String!
  codex: Codex!
  datetime_created: DateTime! @timestamp
  datetime_updated: DateTime! @timestamp
  api_version: String!
    @populatedBy(callback: "apiVersion", operations: [CREATE, UPDATE])
  states_next: [State!]!
    @relationship(type: "NEXT", properties: "Transition", direction: OUT)
  states_previous: [State!]!
    @relationship(type: "NEXT", properties: "Transition", direction: IN)
}

type Transition @relationshipProperties {
  id: ID! @id
  cost: Float!
  rule_name: String!
  metadata: String
  datetime_created: DateTime! @timestamp
  datetime_updated: DateTime! @timestamp
  api_version: String!
    @populatedBy(callback: "apiVersion", operations: [CREATE, UPDATE])
}
